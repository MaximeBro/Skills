@using Microsoft.EntityFrameworkCore

<MudDialog>
    <DialogContent>
        <MudIconButton Class="ml-n4" Icon="@IconsF.Close" Color="Color.Dark" OnClick="@(() => Dialog.Close())" />
        <MudStack Class="px-4 py-2" Justify="Justify.SpaceEvenly" Row="false" Spacing="0">
            <MudStack Row Justify="Justify.Center">
                <MudTextField T="string" Label="Type" Text="Soft-Skill" Disabled />
                <MudTextField T="string" @bind-Value="_desc" Label="Description" Style="min-width: 220px;" />
                <MudStack Row="false" Justify="Justify.Center">
                    
                </MudStack>
            </MudStack>
        </MudStack>
    </DialogContent>
    <DialogActions>
        <MudButton Class="mark-one" Color="Color.Success" Variant="Variant.Text" OnClick="@SubmitAsync">Enregistrer</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] public MudDialogInstance Dialog { get; set; } = null!;

    [Inject] public IDbContextFactory<SkillsContext> Factory { get; set; } = null!;

    private string _desc = string.Empty;
    
    protected override async Task OnInitializedAsync()
    {
        var db = await Factory.CreateDbContextAsync();
    }

    private async Task SubmitAsync()
    {
        var db = await Factory.CreateDbContextAsync();
        var type = db.Type
        var softSkill = new SoftSkillModel
        {
            TypeId = ,
            Description = _desc
        };
        
        Dialog.Close(softSkill);
    }
}