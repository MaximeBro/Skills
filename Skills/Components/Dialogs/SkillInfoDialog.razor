@using Humanizer
@using Skills.Models.Enums

<MudDialog>
    <DialogContent>
        <MudTextField T="string" @bind-Value="_value" Label="@(Type.Humanize())" />
    </DialogContent>
    <DialogActions>
        <MudButton Class="mark-one" Color="Color.Dark" Variant="Variant.Text" OnClick="@(() => Dialog.Close())">Annuler</MudButton>
        <MudButton Class="mark-one" Color="Color.Success" Variant="Variant.Text" OnClick="@Submit">Enregistrer</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] public MudDialogInstance Dialog { get; set; } = null!;
    [Parameter] public string? Value { get; set; }
    [Parameter] public SkillDataType Type { get; set; }

    private string _value = null!;

    protected override void OnInitialized()
    {
        _value = Value ?? string.Empty;
    }

    private void Submit() => Dialog.Close(new SKillInfo{ Value = _value, Type = Type});
}