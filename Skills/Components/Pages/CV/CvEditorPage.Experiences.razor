@inherits FullComponentBase

<MudPaper id="experiences" Class="mt-6 pad-anchor" Elevation="2">
    <MudStack Class="px-4 py-3" Row="false" Spacing="2">
        <MudText Class="open-sans-600 bold">Expériences</MudText>
        <MudCheckBox T="bool" ValueChanged="@SelectAllChanged" Value="@_selectAll" Label="Tout sélectionner"/>
        <MudStack Row="false" Spacing="0" Style="max-height: 400px; overflow-y: auto;">
            @foreach (var experience in Editor.CvExperiences)
            {
                <MudPaper Class="d-flex mb-3 px-4 py-1" Elevation="3" Style="flex-direction: row; align-items: center; background: transparent; backdrop-filter: brightness(0.90);">
                    <MudCheckBox T="bool" Value="@Editor.CvExperiences[experience.Key]" ValueChanged="@((value) => OnCheckChanged(value, experience.Key))"/>
                    <MudStack Row="false" Spacing="0">
                        <MudStack Row Justify="Justify.FlexStart" AlignItems="AlignItems.Center">
                            <MudText Class="open-sans-600 bold" Color="Color.Primary">@experience.Key.Category</MudText> <MudText Class="open-sans-600 bold" Color="Color.Dark"> | </MudText> <MudText Class="open-sans-600 bold" Color="@(Layout.IsDarkMode ? Color.Default : Color.Dark)">@experience.Key.Title</MudText>
                        </MudStack>
                        <MudStack Row Justify="Justify.FlexStart" AlignItems="AlignItems.Center">
                            <MudText Class="open-sans-600">@experience.Key.StartsAt.ToString("MM-yyyy")</MudText>
                            @if (experience.Key.EndsAt.HasValue)
                            {
                                <MudText Class="open-sans-600"> - </MudText> <MudText Class="open-sans-600">@experience.Key.EndsAt.Value.ToString("MM-yyyy")</MudText>
                            }
                        </MudStack>
                        @if (!string.IsNullOrWhiteSpace(experience.Key.Description))
                        {
                            <MudStack Row="false" Spacing="0">
                                @foreach (var line in experience.Key.Description.Split("\n"))
                                {
                                <MudText Class="open-sans-600" Typo="Typo.subtitle2">@line</MudText>
                                }
                            </MudStack>
                        }
                    </MudStack>
                </MudPaper>
            }
        </MudStack>
    </MudStack>
</MudPaper>