@inherits FullComponentBase

<MudTabPanel Class="mark-one" Text="Groupes">
    <MudContainer MaxWidth="MaxWidth.ExtraLarge">
        <MudGrid Class="mt-8" Justify="Justify.Center">
            <MudItem xs="12" sm="6" md="4">
                <MudPaper Class="rounded" Elevation="3">
                    <MudStack Row="false" Spacing="0">
                        <MudStack Class="px-6 py-4" Row>
                            <MudText Class="mark-one">Groupes</MudText>
                        </MudStack>
                    </MudStack>
                    <EditForm Model="_inputModel" OnValidSubmit="@(async () => await AddAsync())">
                        <MudStack Class="mb-6 px-6" Row Justify="Justify.Center">
                            <MudTextField T="string" @bind-Value="_inputModel.Value" Label="Ajouter un groupe" Placeholder="R&D" Variant="Variant.Outlined"
                                          Adornment="Adornment.End" AdornmentIcon="@IconsF.Check" AdornmentColor="Color.Tertiary"
                                          OnAdornmentClick="@(async () => await AddAsync())" @ref="_groupInput"/>
                        </MudStack>
                    </EditForm>
                    <MudStack Row="false" Class="px-9 py-1" Style="height: 60vh; max-height: 60vh; overflow-y: auto;">
                        @foreach (var group in _groups)
                        {
                        <MudPaper Class="rounded mb-1 px-6 py-3" Outlined="false" Elevation="5">
                            <MudStack Row Spacing="0" AlignItems="AlignItems.Center">
                                <MudText>@group.Name</MudText>
                                <MudSpacer/>
                                <MudTooltip Placement="Placement.Bottom" Text="Ã‰diter" Arrow>
                                    <MudIconButton Icon="@IconsF.Edit" Color="Color.Primary" Size="Size.Small" OnClick="@(async () => await EditAsync(group))"/>
                                </MudTooltip>
                                <MudTooltip Class="ml-2" Placement="Placement.Bottom" Text="Supprimer" Arrow>
                                    <MudIconButton Class="ml-4" Icon="@IconsF.Delete" Color="Color.Error" Size="Size.Small" OnClick="@(async () => await DeleteAsync(group))"/>
                                </MudTooltip>
                            </MudStack>
                        </MudPaper>
                        }
                    </MudStack>
                </MudPaper>
            </MudItem>
        </MudGrid>
    </MudContainer>
</MudTabPanel>