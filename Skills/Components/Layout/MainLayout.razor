@inherits LayoutComponentBase

<CascadingValue Name="MainLayout" Value="@this">
    <MudThemeProvider DefaultScrollbar @bind-IsDarkMode="IsDarkMode" Theme="@_theme"/>
    <MudDialogProvider/>
    <MudSnackbarProvider/>

    <MudLayout>
        <NavBar IsDarkTheme="@IsDarkMode"/>
        <MudMainContent> @* Padding-top used for appbar space only *@
            <MudContainer MaxWidth="MaxWidth.False" Class="@($"pa-0 ma-0 {(IsEditing ? string.Empty : "mb-4")}")" Style="min-height: calc(100vh - 64px);">
                <CascadingValue Value="@IsDarkMode" Name="IsDarkMode">
                    @Body
                </CascadingValue>
            </MudContainer>
        </MudMainContent>

        @if (!IsEditing)
        {
            <NavFooter/>
        }

        @if (Environment.IsDevelopment())
        {
            <div id="blazor-error-ui">
                An unhandled error has occurred.
                <a href="" class="reload">Reload</a>
                <a class="dismiss">🗙</a>.
            </div>
        }
    </MudLayout>
</CascadingValue>


@code {

    public bool IsEditing => NavManager.Uri.Contains("cv-editor");

}