@inherits FullComponentBase

<MudMenu @ref="_menu" Icon="@IconsR.AccountCircle" Class="@($"icon-hoverable white-all {Class}")" PopoverClass="dark-bg" ListClass="rounded-lg" ActivationEvent="MouseEvent.MouseOver"
         AnchorOrigin="Origin.BottomRight" TransformOrigin="Origin.TopRight" IsOpenChanged="@((value) => ToLogin())">
    <MudStack Class="pt-1" Row="false" Spacing="0">
        @if (!string.IsNullOrWhiteSpace(_name))
        {
            <MudStack Class="px-4" Row AlignItems="AlignItems.Center">
                <MudAvatar Variant="Variant.Filled" Color="Color.Dark">@_name[0].ToString().ToUpper()</MudAvatar>
                <MudStack Class="py-2" Row="false" Justify="Justify.FlexStart" Spacing="0">
                    <MudLink Class="text-white open-sans-600" Underline="Underline.Hover" OnClick="@ToOverview" Style="text-decoration-color: #fff;">
                        <MudText Class="text-white">@_name</MudText>
                    </MudLink>
                    <MudText Class="text-white">@_email</MudText>
                </MudStack>
            </MudStack>
            <MudStack Row Justify="Justify.Center">
                <AuthorizeView Roles="Manager">
                    <Authorized>
                        <MudText Class="open-sans w700" Align="Align.Center" Style="color: #F44336; text-decoration: underline;">
                            Manager
                        </MudText>
                    </Authorized>
                </AuthorizeView>
                <AuthorizeView Roles="Admin">
                    <Authorized>
                        <MudText Class="open-sans w700" Align="Align.Center" Style="color: #90e0ef; text-decoration: underline;">
                            Administrateur
                        </MudText>
                    </Authorized>
                </AuthorizeView>
            </MudStack>
            <MudDivider Class="my-2" Style="border-color: grey!important;"/>
            <MudLink Class="text-white py-1" Href="/api/logout" Underline="Underline.Hover" Style="text-decoration-color: #fff;">
                <MudStack Row AlignItems="AlignItems.Center" Justify="Justify.Center">
                    <MudIcon Class="text-white" Icon="@IconsR.Logout"/>
                    <MudText Class="text-white">Se d√©connecter</MudText>
                </MudStack>
            </MudLink>
        }
    </MudStack>
</MudMenu>